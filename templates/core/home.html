{% extends 'base.html' %}

{% block title %}WellNest - Your Mental Health Companion{% endblock %}

{% block content %}
<!-- Hero Section -->
<section class="bg-green-50 py-10 sm:py-12">
    <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
        <div class="text-center">
            <h1 class="text-3xl sm:text-4xl md:text-5xl font-bold mb-4 sm:mb-5 text-gray-900 leading-tight">
                Trusted mental health information when you need it most
            </h1>
            <p class="text-lg sm:text-xl md:text-xl text-gray-700 mb-6 sm:mb-7">
                Know more, live brighter.
            </p>
            <div class="flex flex-col sm:flex-row gap-3 sm:gap-4 justify-center">
                <a href="{% url 'resources:resource_list' %}" class="bg-teal-600 text-white px-6 sm:px-8 py-2.5 sm:py-3 rounded-lg font-semibold hover:bg-teal-700 transition-colors text-sm sm:text-base">
                    Explore Resources
                </a>
                <a href="{% url 'accounts:signup' %}" class="border-2 border-teal-600 text-teal-600 px-6 sm:px-8 py-2.5 sm:py-3 rounded-lg font-semibold hover:bg-teal-600 hover:text-white transition-colors text-sm sm:text-base">
                    Create Account
                </a>
            </div>
        </div>
    </div>
</section>

<!-- Smile Quotes Carousel Section -->
<section class="bg-green-50 py-3 sm:py-4">
    <div class="max-w-3xl mx-auto px-4 sm:px-6 lg:px-8">
        <div class="relative h-28 sm:h-32 md:h-36 flex items-center justify-center">
            <div class="quote-item active absolute inset-0 flex items-center justify-center w-full">
                <div class="bg-white rounded-xl shadow-md p-4 sm:p-5 text-center border border-teal-100 max-w-2xl mx-auto">
                    <p class="text-base sm:text-lg md:text-xl font-light text-gray-800 leading-relaxed flex items-center justify-center flex-wrap gap-2">
                        <span class="text-base sm:text-lg md:text-lg">ðŸ˜Š</span>
                        <span>"Keep smiling â€” it's your best accessory ðŸ˜Š"</span>
                    </p>
                </div>
            </div>
            <div class="quote-item absolute inset-0 flex items-center justify-center w-full">
                <div class="bg-white rounded-xl shadow-md p-4 sm:p-5 text-center border border-teal-100 max-w-2xl mx-auto">
                    <p class="text-base sm:text-lg md:text-xl font-light text-gray-800 leading-relaxed flex items-center justify-center flex-wrap gap-2">
                        <span class="text-base sm:text-lg md:text-lg">ðŸ˜Š</span>
                        <span>"A smile is the shortest distance between two people."</span>
                    </p>
                </div>
            </div>
            <div class="quote-item absolute inset-0 flex items-center justify-center w-full">
                <div class="bg-white rounded-xl shadow-md p-4 sm:p-5 text-center border border-teal-100 max-w-2xl mx-auto">
                    <p class="text-base sm:text-lg md:text-xl font-light text-gray-800 leading-relaxed flex items-center justify-center flex-wrap gap-2">
                        <span class="text-base sm:text-lg md:text-lg">ðŸ˜Š</span>
                        <span>"Your smile can brighten someone's day â€” even your own."</span>
                    </p>
                </div>
            </div>
            <div class="quote-item absolute inset-0 flex items-center justify-center w-full">
                <div class="bg-white rounded-xl shadow-md p-4 sm:p-5 text-center border border-teal-100 max-w-2xl mx-auto">
                    <p class="text-base sm:text-lg md:text-xl font-light text-gray-800 leading-relaxed flex items-center justify-center flex-wrap gap-2">
                        <span class="text-base sm:text-lg md:text-lg">ðŸ˜Š</span>
                        <span>"When you smile, you heal a little inside."</span>
                    </p>
                </div>
            </div>
            <div class="quote-item absolute inset-0 flex items-center justify-center w-full">
                <div class="bg-white rounded-xl shadow-md p-4 sm:p-5 text-center border border-teal-100 max-w-2xl mx-auto">
                    <p class="text-base sm:text-lg md:text-xl font-light text-gray-800 leading-relaxed flex items-center justify-center flex-wrap gap-2">
                        <span class="text-base sm:text-lg md:text-lg">ðŸ˜Š</span>
                        <span>"Happiness looks good on you ðŸ˜Š"</span>
                    </p>
                </div>
            </div>
        </div>
    </div>
</section>

<!-- Stats Section -->
<section id="stats-section" class="bg-white py-16">
    <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
        <div class="grid grid-cols-1 md:grid-cols-3 gap-8 text-center">
            <div class="border-r border-gray-200 pr-8 stat-item">
                <div class="text-4xl font-bold text-teal-600 mb-2">
                    <span class="counter" data-target="10000">0</span><span class="counter-suffix">+</span>
                </div>
                <div class="text-gray-600">Users Helped Each Month</div>
            </div>
            <div class="border-r border-gray-200 pr-8 stat-item">
                <div class="text-4xl font-bold text-teal-600 mb-2">
                    <span class="counter" data-target="50">0</span><span class="counter-suffix">+</span>
                </div>
                <div class="text-gray-600">Mental Health Topics</div>
            </div>
            <div class="stat-item">
                <div class="text-4xl font-bold text-teal-600 mb-2">
                    <span class="counter" data-target="100">0</span><span class="counter-suffix">%</span>
                </div>
                <div class="text-gray-600">Privacy Focused</div>
            </div>
        </div>
    </div>
</section>

<!-- Featured Content -->
<section class="py-16 bg-gray-50">
    <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
        <div class="text-center mb-12">
            <h2 class="text-3xl font-bold text-gray-900 mb-4">Featured Content</h2>
            <p class="text-lg text-gray-600">Evidence-based information to support your mental health journey</p>
        </div>
        
        <div class="grid grid-cols-1 md:grid-cols-3 gap-8">
            {% for article in featured_articles %}
            <div class="bg-white rounded-lg shadow-md overflow-hidden hover:shadow-lg transition-shadow">
                <div class="h-48 bg-gradient-to-r from-teal-400 to-teal-600 flex items-center justify-center">
                    <div class="text-white text-6xl">ðŸ§ </div>
                </div>
                <div class="p-6">
                    <div class="text-sm text-teal-600 font-semibold mb-2">{{ article.category }}</div>
                    <h3 class="text-xl font-bold text-gray-900 mb-2">{{ article.title }}</h3>
                    <p class="text-gray-600 mb-4">{{ article.excerpt }}</p>
                    <div class="text-sm text-gray-500">By {{ article.author }}</div>
                </div>
            </div>
            {% endfor %}
        </div>
    </div>
</section>

<!-- Wellness Section -->
<section class="py-16 bg-white">
    <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
        <div class="grid grid-cols-1 lg:grid-cols-2 gap-12 items-center">
            <div>
                <h2 class="text-3xl font-bold text-gray-900 mb-6">Your Mental Wellness Journey Starts Here</h2>
                <p class="text-lg text-gray-600 mb-8">
                    Discover evidence-based resources, expert guidance, and practical tools to support your mental health and well-being.
                </p>
                
                <div class="space-y-4">
                    <div class="flex items-center space-x-3">
                        <div class="w-8 h-8 bg-teal-100 rounded-full flex items-center justify-center">
                            <svg class="w-5 h-5 text-teal-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"></path>
                            </svg>
                        </div>
                        <span class="text-gray-700">Expert-curated content</span>
                    </div>
                    <div class="flex items-center space-x-3">
                        <div class="w-8 h-8 bg-teal-100 rounded-full flex items-center justify-center">
                            <svg class="w-5 h-5 text-teal-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"></path>
                            </svg>
                        </div>
                        <span class="text-gray-700">Personalized recommendations</span>
                    </div>
                    <div class="flex items-center space-x-3">
                        <div class="w-8 h-8 bg-teal-100 rounded-full flex items-center justify-center">
                            <svg class="w-5 h-5 text-teal-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"></path>
                            </svg>
                        </div>
                        <span class="text-gray-700">Track your wellness progress</span>
                    </div>
                </div>
                
                <div class="mt-8">
                    <a href="{% url 'resources:resource_list' %}" class="bg-teal-600 text-white px-6 py-3 rounded-lg font-semibold hover:bg-teal-700 transition-colors">
                        Explore Resources
                    </a>
                </div>
            </div>
            
            <div class="bg-gradient-to-br from-teal-50 to-teal-100 p-8 rounded-lg">
                <h3 class="text-2xl font-bold text-gray-900 mb-6">Get Started Today</h3>
                <div class="space-y-4">
                    <div class="flex items-center space-x-3">
                        <div class="w-6 h-6 bg-teal-600 rounded-full flex items-center justify-center">
                            <span class="text-white text-sm font-bold">1</span>
                        </div>
                        <span class="text-gray-700">Browse our resource library</span>
                    </div>
                    <div class="flex items-center space-x-3">
                        <div class="w-6 h-6 bg-teal-600 rounded-full flex items-center justify-center">
                            <span class="text-white text-sm font-bold">2</span>
                        </div>
                        <span class="text-gray-700">Create your free account</span>
                    </div>
                    <div class="flex items-center space-x-3">
                        <div class="w-6 h-6 bg-teal-600 rounded-full flex items-center justify-center">
                            <span class="text-white text-sm font-bold">3</span>
                        </div>
                        <span class="text-gray-700">Build your wellness routine</span>
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>

<!-- Resources Section -->
<section class="py-16 bg-gray-50">
    <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
        <div class="text-center mb-12">
            <h2 class="text-3xl font-bold text-gray-900 mb-4">Mental Health Resources</h2>
            <p class="text-lg text-gray-600">Find support, information, and tools to help you on your mental health journey</p>
        </div>
        
        <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6">
            <a href="{% url 'resources:resource_list' %}" class="bg-white p-6 rounded-lg shadow-md hover:shadow-lg transition-shadow text-center">
                <div class="w-12 h-12 bg-teal-100 rounded-lg flex items-center justify-center mx-auto mb-4">
                    <svg class="w-6 h-6 text-teal-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 6.253v13m0-13C10.832 5.477 9.246 5 7.5 5S4.168 5.477 3 6.253v13C4.168 18.477 5.754 18 7.5 18s3.332.477 4.5 1.253m0-13C13.168 5.477 14.754 5 16.5 5c1.746 0 3.332.477 4.5 1.253v13C19.832 18.477 18.246 18 16.5 18c-1.746 0-3.332.477-4.5 1.253"></path>
                    </svg>
                </div>
                <h3 class="font-semibold text-gray-900 mb-2">Articles & Guides</h3>
                <p class="text-sm text-gray-600">Evidence-based information on mental health topics</p>
            </a>
            
            <a href="{% url 'resources:crisis' %}" class="bg-white p-6 rounded-lg shadow-md hover:shadow-lg transition-shadow text-center">
                <div class="w-12 h-12 bg-red-100 rounded-lg flex items-center justify-center mx-auto mb-4">
                    <svg class="w-6 h-6 text-red-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 5a2 2 0 012-2h3.28a1 1 0 01.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.257 1.13a11.042 11.042 0 005.516 5.516l1.13-2.257a1 1 0 011.21-.502l4.493 1.498a1 1 0 01.684.949V19a2 2 0 01-2 2h-1C9.716 21 3 14.284 3 6V5z"></path>
                    </svg>
                </div>
                <h3 class="font-semibold text-gray-900 mb-2">Crisis Support</h3>
                <p class="text-sm text-gray-600">24/7 helplines and emergency resources</p>
            </a>
            
            <a href="{% url 'resources:faq' %}" class="bg-white p-6 rounded-lg shadow-md hover:shadow-lg transition-shadow text-center">
                <div class="w-12 h-12 bg-blue-100 rounded-lg flex items-center justify-center mx-auto mb-4">
                    <svg class="w-6 h-6 text-blue-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8.228 9c.549-1.165 2.03-2 3.772-2 2.21 0 4 1.343 4 3 0 1.4-1.278 2.575-3.006 2.907-.542.104-.994.54-.994 1.093m0 3h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"></path>
                    </svg>
                </div>
                <h3 class="font-semibold text-gray-900 mb-2">FAQ</h3>
                <p class="text-sm text-gray-600">Common questions and answers</p>
            </a>
            
            <a href="{% url 'resources:reference_links' %}" class="bg-white p-6 rounded-lg shadow-md hover:shadow-lg transition-shadow text-center">
                <div class="w-12 h-12 bg-green-100 rounded-lg flex items-center justify-center mx-auto mb-4">
                    <svg class="w-6 h-6 text-green-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"></path>
                    </svg>
                </div>
                <h3 class="font-semibold text-gray-900 mb-2">Research</h3>
                <p class="text-sm text-gray-600">Scientific references and studies</p>
            </a>
        </div>
    </div>
</section>

<!-- CTA Section -->
<section class="py-16 bg-teal-600 text-white">
    <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 text-center">
        <h2 class="text-3xl font-bold mb-4">Ready to take control of your mental health?</h2>
        <p class="text-xl text-teal-100 mb-8">Start your journey with expert-curated resources and support</p>
        <div class="flex flex-col sm:flex-row gap-4 justify-center">
            <a href="{% url 'resources:resource_list' %}" class="bg-white text-teal-600 px-8 py-3 rounded-lg font-semibold hover:bg-gray-100 transition-colors">
                Explore Resources
            </a>
            <a href="{% url 'accounts:signup' %}" class="border-2 border-white text-white px-8 py-3 rounded-lg font-semibold hover:bg-white hover:text-teal-600 transition-colors">
                Create Account
            </a>
        </div>
    </div>
</section>
{% endblock %}

{% block extra_css %}
<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600&family=Poppins:wght@300;400;500;600&display=swap" rel="stylesheet">
<style>
    .quote-item {
        opacity: 0;
        transform: translateY(10px) scale(0.98);
        transition: opacity 1.2s ease-in-out, transform 1.2s ease-in-out;
        pointer-events: none;
        visibility: hidden;
    }
    
    .quote-item.active {
        opacity: 1;
        transform: translateY(0) scale(1);
        pointer-events: auto;
        visibility: visible;
    }
</style>
{% endblock %}

{% block extra_js %}
<script>
document.addEventListener('DOMContentLoaded', function() {
    // Quote Carousel
    const quoteItems = document.querySelectorAll('.quote-item');
    let currentQuoteIndex = 0;
    let carouselInterval;
    
    function showNextQuote() {
        if (quoteItems.length === 0) return;
        
        // Hide current quote with fade out
        quoteItems[currentQuoteIndex].classList.remove('active');
        
        // Move to next quote immediately (for simultaneous fade in/out)
        currentQuoteIndex = (currentQuoteIndex + 1) % quoteItems.length;
        
        // Show next quote with fade in (starts fading in while previous fades out)
        setTimeout(() => {
            quoteItems[currentQuoteIndex].classList.add('active');
        }, 100); // Small delay to ensure smooth transition
    }
    
    // Start carousel - change quote every 5 seconds
    if (quoteItems.length > 0) {
        carouselInterval = setInterval(showNextQuote, 5000);
        
        // Pause carousel when tab is not visible (optional optimization)
        document.addEventListener('visibilitychange', function() {
            if (document.hidden) {
                if (carouselInterval) clearInterval(carouselInterval);
            } else {
                if (carouselInterval) clearInterval(carouselInterval);
                carouselInterval = setInterval(showNextQuote, 5000);
            }
        });
    }
    
    // Stats Counter Animation
    const statItems = document.querySelectorAll('.stat-item');
    
    // Options for IntersectionObserver
    const observerOptions = {
        root: null,
        rootMargin: '0px',
        threshold: 0.5 // Trigger when 50% of the element is visible
    };
    
    // Function to animate counter smoothly
    function animateCounter(counter) {
        const target = parseInt(counter.getAttribute('data-target'), 10);
        const duration = 2500; // 2.5 seconds
        const startTime = performance.now();
        const startValue = 0;
        
        function updateCounter(currentTime) {
            const elapsed = currentTime - startTime;
            const progress = Math.min(elapsed / duration, 1);
            
            // Use easing function for smooth animation (ease-out)
            const easeOutQuart = 1 - Math.pow(1 - progress, 4);
            const current = Math.floor(startValue + (target - startValue) * easeOutQuart);
            
            counter.textContent = current.toLocaleString();
            
            if (progress < 1) {
                requestAnimationFrame(updateCounter);
            } else {
                counter.textContent = target.toLocaleString();
            }
        }
        
        requestAnimationFrame(updateCounter);
    }
    
    // Create IntersectionObserver
    const observer = new IntersectionObserver(function(entries) {
        entries.forEach(entry => {
            if (entry.isIntersecting) {
                const counter = entry.target.querySelector('.counter');
                if (counter && !counter.classList.contains('animated')) {
                    counter.classList.add('animated');
                    animateCounter(counter);
                    // Unobserve after animation starts
                    observer.unobserve(entry.target);
                }
            }
        });
    }, observerOptions);
    
    // Observe each stat item
    statItems.forEach(statItem => {
        observer.observe(statItem);
    });
});
</script>
{% endblock %}
